<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tính chỉ số IMB</title>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form action="" method="post" id="form">
        <div class="container">
            <div class="row">
                <div class="col-12 mb-3">
                    <h1>ĐO CHỈ SỐ (BMI)</h1>
                </div>
                <div class="col-12 mb-3">
                    <label for="">Chiều cao</label>
                    <input type="text" id="height" placeholder="Tính theo m">
                </div>
                <div class="col-12 mb-3">
                    <label for="">Cân nặng</label>
                    <input type="text" id="weight" placeholder="Tính theo kg">
                </div>
                <div class="col-12 mb-3">
                    <label for="">Giới tính</label>
                    <div class="row">
                        <div class="col-12 col-md-12">
                            <input type="radio" name="gender" id="male" value="0" checked>Nam
                            <input type="radio" name="gender" id="female" value="1">Nữ
                        </div>
                    </div>
                </div>
                <div class="col-12 mb-3" style="text-align: center;">
                    <button type="submit" id="btn">Tính (BMI)</button>
                </div>
                <div class="col-12 mb-3" id="result" style="text-align: center;">
                    <p>Kết quả</p>
                    <p id="value-result">XXXXXXX</p>
                </div>
            </div>
        </div>


    </form>
    <!--javascript-->
    <script>

        //khi nhấn submit
        let btn = document.querySelector('#btn');
        btn.addEventListener('click', (e) => {
            //chặn hành vi gửi form mặc định
            e.preventDefault();

            //click
            alert('Xác nhận tính toán');
            const a = BMI();
            const b = bodyStyle(a);

            //Trả kết quả ra màn hình
            const resultArea = document.querySelector('#result');
            const result = document.createElement('p');
            result.style.fontSize = "20px"
            result.textContent = a + "/" + b;
            resultArea.replaceChild(result, resultArea.children[1]);



        })

        function BMI() {
            //lấy thông tin từ form
            let h = document.getElementById('height').value;
            let w = document.getElementById('weight').value;

            //tính BMI
            const BMI = w / (h * h);

            return BMI.toFixed(3);
        }

        function bodyStyle(BMI) {
            if (document.getElementById('male').checked) {
                //Male radio button is checked
                if(BMI < 20.7){
                    return "Gầy";
                }else if(BMI >= 20.7 && BMI < 26.4){
                    return "Bình thường";
                }else if(BMI >= 26.4 && BMI < 27.8){
                    return "Thừa cân nhẹ";
                }else if(BMI >= 27.8 && BMI < 31.1){
                    return "Trên lý tưởng";
                }else{
                    return "Béo phì";
                }
            } else if (document.getElementById('female').checked) {
                //Female radio button is checked
                if(BMI < 19.1){
                    return "Gầy";
                }else if(BMI >= 19.1 && BMI < 25.8){
                    return "Bình thường";
                }else if(BMI >= 25.8 && BMI < 27.3){
                    return "Thừa cân nhẹ";
                }else if(BMI >= 27.3 && BMI < 32.3){
                    return "Trên lý tưởng";
                }else{
                    return "Béo phì";
                }
            }
        }

    </script>
</body>

</html>